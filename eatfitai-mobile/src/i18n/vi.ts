export const vi = {
  common: {
    close: 'Đóng',
    loading: 'Đang tải...',
    today: 'Hôm nay',
    delete: 'Xoá',
    cancel: 'Hủy',
    confirm: 'Xác nhận',
    retry: 'Thử lại',
    save: 'Lưu',
    saving: 'Đang lưu...',
    logout: 'Đăng xuất',
    logoutConfirm: 'Bạn có chắc chắn muốn đăng xuất không?',
    yes: 'Đồng ý',
    no: 'Huỷ',
    ok: 'OK',
    error: 'Lỗi',
    success: 'Thành công',
    info: 'Thông tin',
    warning: 'Cảnh báo',
    networkError: 'Không có kết nối mạng',
    serverError: 'Lỗi máy chủ',
    sessionExpired: 'Phiên đăng nhập đã hết hạn',
    pleaseLoginAgain: 'Vui lòng đăng nhập lại',
    tryAgain: 'Vui lòng thử lại',
    checkConnection: 'Kiểm tra kết nối và thử lại',
    tryAgainLater: 'Vui lòng thử lại sau',
    contactSupport: 'Vui lòng thử lại hoặc liên hệ hỗ trợ',
    showPassword: 'Hiện mật khẩu',
    hidePassword: 'Ẩn mật khẩu',
    appError: 'Ứng dụng gặp lỗi',
    appErrorDescription: 'Đã xảy ra lỗi không mong muốn. Vui lòng khởi động lại ứng dụng.',
    mayBeDeleted: 'Món này có thể đã bị xóa trước đó',
    onlyDeleteOwn: 'Chỉ có thể xóa món do bạn thêm',
    deleteFailed: 'Xóa thất bại',
    invalidData: 'Dữ liệu không hợp lệ',
    checkInfo: 'Vui lòng kiểm tra thông tin đã nhập',
    notFound: 'Không tồn tại',
    noPermission: 'Không có quyền',
    deleteConfirm: 'Xác nhận xóa',
    deleteItem: (item: string) => `Xác nhận xóa "${item}" khỏi nhật ký?`,
    deleted: 'Đã xóa',
    updated: 'Đã cập nhật',
    saved: 'Đã lưu',
    applied: 'Đã áp dụng',
    created: 'Đã tạo',
    added: 'Đã thêm',
    removed: 'Đã xóa khỏi nhật ký',
    continueTracking: 'Tiếp tục theo dõi dinh dưỡng của bạn!',
    welcomeBack: 'Chào mừng bạn quay trở lại!',
    startHealthyJourney: 'Bắt đầu hành trình ăn uống lành mạnh!',
    noData: 'Chưa có dữ liệu',
    loadingData: 'Đang tải dữ liệu...',
    analyzing: 'Đang phân tích...',
    processing: 'Đang xử lý...',
    calculating: 'Đang tính toán...',
    suggesting: 'Đang gợi ý...',
    capturing: 'Đang chụp...',
    searching: 'Đang tìm kiếm...',
    submitting: 'Đang gửi...',
    applying: 'Đang áp dụng...',
    recalculating: 'Đang tính lại...',
    connecting: 'Đang kết nối...',
    initializing: 'Đang khởi tạo...',
  },
  auth: {
    loginTitle: 'Đăng nhập',
    email: 'Email',
    password: 'Mật khẩu',
    login: 'Đăng nhập',
    processing: 'Đang xử lý',
    loginWithGoogle: 'Đăng nhập với Google',
    registerQuestion: 'Chưa có tài khoản? Đăng ký',
    registerTitle: 'Đăng ký',
    displayName: 'Tên hiển thị',
    passwordConfirm: 'Nhập lại mật khẩu',
    createAccount: 'Tạo tài khoản',
    hasAccount: 'Đã có tài khoản? Đăng nhập',
    loginSuccess: 'Đăng nhập thành công',
    registerSuccess: 'Đăng ký tài khoản thành công',
    googleLoginSuccess: 'Đăng nhập với Google thành công',
    emailExists: 'Email đã được sử dụng',
    useAnotherEmail: 'Vui lòng sử dụng email khác hoặc đăng nhập',
    invalidCredentials: 'Email hoặc mật khẩu không đúng',
    checkCredentials: 'Vui lòng kiểm tra lại thông tin đăng nhập',
    invalidEmail: 'Email không hợp lệ',
    checkEmailFormat: 'Vui lòng kiểm tra định dạng email',
    passwordTooShort: 'Mật khẩu tối thiểu 6 ký tự',
    passwordRequirements: 'Mật khẩu phải có chữ hoa, chữ thường và số',
    passwordMismatch: 'Mật khẩu nhập lại không khớp',
    nameTooShort: 'Tên tối thiểu 2 ký tự',
    registerFailed: 'Đăng ký thất bại',
    loginFailed: 'Đăng nhập thất bại',
    googleLoginFailed: 'Đăng nhập Google thất bại',
    useNormalLogin: 'Vui lòng thử lại hoặc sử dụng đăng nhập thông thường',
    missingAccessToken: 'Thiếu accessToken trong phản hồi',
    googleLoginCancelled: 'Đăng nhập Google bị hủy hoặc thất bại',
    googleAccessTokenMissing: 'Không nhận được accessToken từ Google callback',
  },
  home: {
    title: 'Nhật ký hôm nay',
    intake: 'Tiêu thụ',
    target: 'Mục tiêu',
    addDish: '+ Thêm món',
    aiNutrition: 'AI dinh dưỡng',
    diffEqual: 'Bạn đang bằng với mục tiêu',
    diffAbove: (kcal: number) => `Vượt ${kcal} kcal so với mục tiêu`,
    diffBelow: (kcal: number) => `Thấp hơn ${kcal} kcal so với mục tiêu`,
    empty: 'Chưa có món nào hôm nay',
    addDishTitle: 'Thêm món',
    chooseAddMethod: 'Chọn cách thêm món vào nhật ký',
    searchExisting: 'Tìm món có sẵn',
    createCustom: 'Tạo món thủ công',
    close: 'Đóng',
    kcal: 'kcal',
    entries: (count: number) => `${count} món`,
    noPortionInfo: 'Không rõ khẩu phần',
    serverConnectionError: 'Không thể kết nối máy chủ',
    checkApiUrl: 'Kiểm tra API_BASE_URL hoặc mạng LAN',
    loadDiaryFailed: 'Không thể tải nhật ký hôm nay',
    pullToRetry: 'Kéo xuống để thử lại',
    reloadFailed: 'Tải lại thất bại',
  },
  search: {
    placeholder: 'Nhập từ khóa tìm kiếm...',
    search: 'Tìm',
    noResult: 'Không tìm thấy kết quả',
    total: (n: number) => `Tổng kết quả: ${n}`,
    loading: 'Đang tìm kiếm...',
    enterKeyword: 'Vui lòng nhập từ khóa tìm kiếm',
    examples: 'Ví dụ: gà, cơm, salad...',
    invalidKeyword: 'Từ khóa tìm kiếm không hợp lệ',
    tryDifferentKeyword: 'Vui lòng sử dụng từ khóa khác',
    searchFailed: 'Tìm kiếm thất bại',
    tryAgain: 'Vui lòng thử lại với từ khóa khác',
    suggestions: 'Gợi ý: gà, cơm, salad, sữa, bánh mì...',
    checkSpelling: 'Thử tìm kiếm với từ khóa khác hoặc kiểm tra chính tả',
  },
  detail: {
    addTitle: 'Thêm vào nhật ký',
    grams: 'Số gram',
    meal: 'Bữa ăn',
    note: 'Ghi chú (tùy chọn)',
    notePlaceholder: 'VD: giảm bớt nước sốt',
    preview: (g: string) => `Tổng dinh dưỡng cho ${g || '--'} g:`,
    addButton: 'Thêm vào nhật ký',
    enterGrams: 'Vui lòng nhập số gram',
    gramsRange: 'Số gram phải > 0 và ≤ 2000',
    invalidMeal: 'Bữa ăn không hợp lệ',
    noteTooLong: 'Ghi chú tối đa 200 ký tự',
    foodNotFound: 'Món ăn không tồn tại',
    mayBeDeleted: 'Món này có thể đã bị xóa',
    addSuccess: 'Đã thêm món vào nhật ký',
    invalidData: 'Dữ liệu không hợp lệ',
    checkGramsAndMeal: 'Vui lòng kiểm tra số gram và bữa ăn',
    addFailed: 'Thêm món thất bại',
  },
  customDish: {
    title: 'Tạo món thủ công',
    description: 'Nhập thông tin dinh dưỡng cho món nhà làm để lưu vào thư viện cá nhân.',
    name: 'Tên món',
    namePlaceholder: 'Ví dụ: Salad gà',
    descriptionOptional: 'Mô tả (tùy chọn)',
    descriptionPlaceholder: 'Nguyên liệu chính, ghi chú...',
    nutritionInfo: 'Thông tin dinh dưỡng (cho 100g)',
    servingSize: 'Khẩu phần (gram)',
    enterServingSize: 'Vui lòng nhập khẩu phần (gram)',
    servingSizeRange: 'Khẩu phần phải > 0 và ≤ 2000',
    calories: 'Calo',
    enterCalories: 'Vui lòng nhập calo',
    caloriesRange: 'Calo phải ≥ 0 và ≤ 5000',
    protein: 'Protein (g)',
    enterProtein: 'Vui lòng nhập protein',
    proteinRange: 'Protein phải ≥ 0 và ≤ 500',
    carbs: 'Carb (g)',
    enterCarbs: 'Vui lòng nhập carb',
    carbsRange: 'Carb phải ≥ 0 và ≤ 500',
    fat: 'Fat (g)',
    enterFat: 'Vui lòng nhập fat',
    fatRange: 'Fat phải ≥ 0 và ≤ 300',
    grams: 'Số gram',
    enterGrams: 'Vui lòng nhập số gram',
    gramsRange: 'Số gram phải > 0 và ≤ 2000',
    meal: 'Bữa ăn',
    note: 'Ghi chú (tùy chọn)',
    noteMaxLength: 'Ghi chú tối đa 200 ký tự',
    createButton: 'Tạo món ăn',
    creating: 'Đang tạo...',
    createSuccess: 'Đã tạo món thủ công thành công',
    savedToLibrary: 'Món ăn đã được lưu vào thư viện cá nhân',
    invalidData: 'Dữ liệu không hợp lệ',
    checkNutritionInfo: 'Vui lòng kiểm tra thông tin dinh dưỡng',
    createFailed: 'Tạo món thất bại',
  },
  ai: {
    needPermission: 'Cần cấp quyền camera',
    grant: 'Cấp quyền',
    capture: 'Chụp ảnh',
    retake: 'Chụp lại',
    listIngredients: 'Danh sách nguyên liệu',
    analyzing: 'Đang phân tích ảnh...',
    chooseAtLeastOne: 'Chọn ít nhất 1 nguyên liệu',
    suggest: 'Gợi ý công thức',
    suggesting: 'Đang gợi ý...',
    fromAI: 'Công thức từ AI',
    cameraNotReady: 'Camera chưa sẵn sàng',
    captureFailed: 'Không thể phân tích ảnh',
    selectAtLeastOne: 'Chọn ít nhất 1 nguyên liệu',
    noSuggestions: 'AI chưa có gợi ý phù hợp',
    suggestFailed: 'Gợi ý công thức thất bại',
    capturedImage: 'Ảnh đã chụp',
    retakeImage: 'Chụp lại',
    ingredientsList: 'Danh sách nguyên liệu',
    analyzingImage: 'Đang phân tích ảnh...',
    noIngredients: 'Chưa có nguyên liệu. Vui lòng chụp lại.',
    selected: '✓ Đã chọn',
    select: 'Chọn',
    confidence: (percent: number) => `Độ tin cậy: ${percent}%`,
    ingredients: (list: string) => `Nguyên liệu: ${list}`,
  },
  nutrition: {
    title: 'Mục tiêu dinh dưỡng',
    description: 'AI giúp cân bằng calo và macro theo trạng thái hiện tại. Bạn có thể đề xuất lại và áp dụng ngay.',
    loading: 'Đang tải...',
    currentTarget: 'Mục tiêu hiện tại',
    newSuggestion: 'Đề xuất mới',
    recalculate: 'Đề xuất mục tiêu mới',
    recalculating: 'Đang tính...',
    apply: 'Áp dụng mục tiêu AI',
    applying: 'Đang áp dụng...',
    loadTargetFailed: 'Không tải được mục tiêu dinh dưỡng',
    aiSuggestionSuccess: 'AI đã đề xuất mục tiêu mới',
    aiSuggestionFailed: 'AI không đề xuất được',
    noTargetToApply: 'Chưa có mục tiêu để áp dụng',
    applySuccess: 'Đã áp dụng mục tiêu AI',
    saveFailed: 'Lưu mục tiêu thất bại',
  },
  stats: {
    weekTitle: 'Thống kê 7 ngày',
    weekDescription: 'So sánh calo tiêu thụ với mục tiêu hằng ngày',
    loading: 'Đang tải...',
    noData: 'Chưa có dữ liệu',
    loadFailed: 'Không thể tải thống kê',
    pullToRetry: 'Kéo xuống để thử lại',
    reloadFailed: 'Tải lại thất bại',
    averagePerDay: 'Trung bình/ngày',
    totalWeek: 'Tổng tuần',
    targetAchieved: 'Đạt mục tiêu',
    daysAchieved: (achieved: number, total: number) => `${achieved}/${total} ngày`,
  },
  profile: {
    personalInfo: 'Thông tin cá nhân',
    editAndSave: 'Chỉnh sửa hồ sơ và lưu lại để cập nhật',
    fullName: 'Họ và tên',
    fullNamePlaceholder: 'Nhập họ tên',
    height: 'Chiều cao (cm)',
    weight: 'Cân nặng (kg)',
    measuredDate: 'Ngày đo (YYYY-MM-DD)',
    note: 'Ghi chú (tùy chọn)',
    notePlaceholder: 'Ghi chú về số đo',
    saveProfile: 'Lưu hồ sơ',
    saving: 'Đang lưu...',
    saveSuccess: 'Đã lưu thông tin hồ sơ',
    loadFailed: 'Tải hồ sơ thất bại',
    saveFailed: 'Không thể lưu hồ sơ',
    bodyMetrics: 'Ghi nhận chỉ số cơ thể',
    trackProgress: 'Theo dõi tiến trình bằng cách lưu số đo mới',
    saveMetrics: 'Lưu số đo mới',
    saveMetricsSuccess: 'Đã ghi nhận số đo mới',
    invalidMetrics: 'Số đo không hợp lệ',
    checkFields: 'Vui long kiểm tra các trường',
    saveMetricsFailed: 'Không thể lưu số đo',
  },
  mealTypes: {
    breakfast: 'Bữa sáng',
    lunch: 'Bữa trưa',
    dinner: 'Bữa tối',
    snack: 'Ăn vặt',
  },
  navigation: {
    home: 'Home',
    search: 'Search',
    camera: 'Camera',
    ai: 'AI',
    stats: 'Stats',
    profile: 'Profile',
    foodSearch: 'Tìm món',
    foodDetail: 'Chi tiết món',
    customDish: 'Món thủ công',
    aiNutrition: 'AI Dinh dưỡng',
  },
  app: {
    serverConnectionError: 'Không kết nối được máy chủ',
    checkApiUrl: 'Kiểm tra API_BASE_URL hoặc mạng LAN',
  },
};

export type Dict = typeof vi;

export function t<K extends string>(key: K, ...args: any[]): string {
  const path = key.split('.');
  let cur: any = vi;
  for (const p of path) {
    if (cur == null) return key;
    cur = cur[p];
  }
  if (typeof cur === 'function') return cur(...args);
  if (typeof cur === 'string') return cur;
  return key;
}

