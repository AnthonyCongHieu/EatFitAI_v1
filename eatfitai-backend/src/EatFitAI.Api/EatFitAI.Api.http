@host = http://localhost:5100

### Health
GET {{host}}/health

### Register
POST {{host}}/api/auth/register
Content-Type: application/json

{
  "email": "demo@eatfit.ai",
  "password": "demo123",
  "fullName": "Demo User"
}

### Login
POST {{host}}/api/auth/login
Content-Type: application/json

{
  "email": "demo@eatfit.ai",
  "password": "demo123"
}

### Refresh (call 2-3 times to see sliding 30 days)
POST {{host}}/api/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### Google (mock id_token: either a JWT with email claim, or format any|email)
POST {{host}}/api/auth/google
Content-Type: application/json

{
  "id_token": "mock|user@example.com"
}

### Get my profile
GET {{host}}/api/profile/me
Authorization: Bearer {{accessToken}}

### Update my profile
PUT {{host}}/api/profile/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "fullName": "Demo User",
  "gender": "male",
  "dateOfBirth": "1995-05-10",
  "heightCm": 175.5,
  "targetWeightKg": 70,
  "activityLevel": "moderate",
  "goal": "lose_fat",
  "avatarUrl": "https://example.com/a.jpg"
}

### Add a body metric
POST {{host}}/api/body-metrics
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "recordedAt": "{{now}}",
  "weightKg": 71.2,
  "bodyFatPercent": 18.4
}

### Get current nutrition target
GET {{host}}/api/nutrition-targets/current
Authorization: Bearer {{accessToken}}

### Upsert nutrition target
POST {{host}}/api/nutrition-targets
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "effectiveDate": "{{today}}",
  "caloriesKcal": 2100,
  "proteinGrams": 150,
  "carbohydrateGrams": 220,
  "fatGrams": 70
}

### Foods: search "g√†"
GET {{host}}/api/foods/search?query=%C4%91%C3%B4i%20c%C3%A1nh%20g%C3%A0
Authorization: Bearer {{accessToken}}

### Foods: get by id
@foodId = {{foodId}}
GET {{host}}/api/foods/{{foodId}}
Authorization: Bearer {{accessToken}}

### Diary: add 150g of selected food for today lunch
@today = {{$localDatetime date yyyy-MM-dd}}
POST {{host}}/api/diary
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "mealDate": "{{today}}",
  "mealCode": "lunch",
  "source": "food",
  "itemId": "{{foodId}}",
  "quantityGrams": 150
}

### Summary Day before delete
GET {{host}}/api/summary/day?date={{today}}
Authorization: Bearer {{accessToken}}

### Diary: list for today
GET {{host}}/api/diary?date={{today}}
Authorization: Bearer {{accessToken}}

### Diary: delete one entry
@diaryId = {{diaryId}}
DELETE {{host}}/api/diary/{{diaryId}}
Authorization: Bearer {{accessToken}}

### Summary Day after delete
GET {{host}}/api/summary/day?date={{today}}
Authorization: Bearer {{accessToken}}
